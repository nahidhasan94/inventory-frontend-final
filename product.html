<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Product</title>
  <link rel="stylesheet" href="product.css">
  
  <script src="https://cdn.trackjs.com/agent/v3/latest/t.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body>
  <main id="main-holder">
    <h1>Create Product</h1>
      <input type="text" name="category" id="category-field" class="product-form-field" placeholder="category">
	  <input type="text" name="product" id="product-field" class="product-form-field" placeholder="product">
	  <input type="text" name="price" id="price-field" class="product-form-field" placeholder="price">
	  <input type="text" name="quantity" id="quantity-field" class="product-form-field" placeholder="quantity">
       <input type="submit" value="Enter" onclick="productAction()">
  </main>
</body>

<script>
	
	 function productAction()
		{
        let category = document.getElementById("category-field").value
        let name = document.getElementById("product-field").value
		let price = document.getElementById("price-field").value
        let quantity = document.getElementById("quantity-field").value
        $.ajax(
            {
                url: "http://localhost:8089//product/create",
                type: "POST",
                accept: "application/json",
                contentType: "application/json",
                headers:
                    {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json',
                        'Access-Control-Allow-Origin': '*',
                        'Access-Control-Allow-Credentials': 'true',
                        'requester': '{"username": "admin@asd.com","authorities": "ROLE_ADMIN"}'

                    },
                data: JSON.stringify({
					name:  name.toString(),
                    price : parseInt(price),
                    category : category.toString(),
					quantity: parseInt(quantity)
					
                }),
                dataType: 'json',
                success: function (response)
                {
                    alert("success");

                }
                , error: function (error) {
                    alert(error.message);
                }
            }
        )
    }

</script>
</html>